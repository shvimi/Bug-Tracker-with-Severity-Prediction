<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bug Tracker</title>
    <style>
        body { font-family: Arial; background: #f9f9f9; text-align: center; }
        header { background: #2c3e50; color: white; padding: 15px; }
        img.logo { height: 70px; border-radius: 10px; box-shadow: 0 0 5px #00000055; }
        table { margin: 20px auto; border-collapse: collapse; width: 90%; background: white; }
        th, td { padding: 10px; border: 1px solid #ccc; }
        th { background: #007bff; color: white; }
        a { color: #007bff; text-decoration: none; }
        a:hover { text-decoration: underline; }
        .btn { background: #28a745; color: white; padding: 8px 12px; border-radius: 5px; text-decoration: none; }
        .btn:hover { background: #218838; }
    </style>
</head>
<body>
    <header>
        <img src="{{ url_for('static', filename='bug_logo.png') }}" alt="Bug Logo" class="logo"><br>
        <h1>üêû Bug Tracker System</h1>
        <p>AI-based Severity Detection</p>
        <a href="{{ url_for('report_bug') }}" class="btn">Report New Bug</a>
    </header>

    <h2>Reported Bugs</h2>
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for cat, msg in messages %}
                <p style="color:green;">{{ msg }}</p>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <table>
        <tr>
            <th>ID</th><th>Title</th><th>Severity</th><th>Status</th>
            <th>Reporter</th><th>Assignee</th><th>Created</th>
        </tr>
        {% for bug in bugs %}
        <tr>
            <td><a href="{{ url_for('bug_details', id=bug.id) }}">{{ bug.id }}</a></td>
            <td>{{ bug.title }}</td>
            <td>{{ bug.severity }}</td>
            <td>{{ bug.status }}</td>
            <td>{{ bug.reporter }}</td>
            <td>{{ bug.assignee }}</td>
            <td>{{ bug.created_at.strftime('%Y-%m-%d') }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
